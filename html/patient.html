<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Profile</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="dashboard">
        <h1>Patient Profile</h1>

        <!-- Logout Button -->
        <button id="logoutButton">Logout</button>

        <!-- Upcoming Appointments (shown by default) -->
        <section id="upcoming-appointments" class="section active">
            <h2>Upcoming Appointments</h2>
            <div id="appointmentContent">Loading upcoming appointments...</div>
        </section>

        <!-- Toggle buttons to expand/collapse other sections -->
        <button class="toggle-button" data-section="prescriptions" onclick="toggleSection('prescriptions')">
            <span>+</span> Prescriptions
        </button>
        <section id="prescriptions" class="section">
            <h2>Prescriptions</h2>
            <div id="prescriptionContent">No prescriptions found.</div>
        </section>

        <button class="toggle-button" data-section="billing-info" onclick="toggleSection('billing-info')">
            <span>+</span> Billing Information
        </button>
        <section id="billing-info" class="section">
            <h2>Billing Information</h2>
            <div id="billingContent">No billing information found.</div>
        </section>
    </div>

    <script src="../frontend/patient.js"></script>
    <script>
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const button = document.querySelector(`button[data-section="${sectionId}"]`);
            const icon = button.querySelector("span");

            if (section.classList.contains("active")) {
                section.classList.remove("active");
                icon.textContent = "+"; // Set to + when collapsed
            } else {
                section.classList.add("active");
                icon.textContent = "-"; // Set to - when expanded
            }
        }

        // Initialize icons based on section visibility
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".toggle-button").forEach(button => {
                const sectionId = button.getAttribute("data-section");
                const section = document.getElementById(sectionId);
                const icon = button.querySelector("span");

                // Set initial icon based on section visibility
                if (section.classList.contains("active")) {
                    icon.textContent = "-";
                } else {
                    icon.textContent = "+";
                }
            });
        });
    </script>
</body>
</html>
